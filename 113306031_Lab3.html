<!DOCTYPE html>
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>113306031_Lab3_Number Guessing Game</title>
  <link rel="stylesheet" type="text/css" href="113306031_Lab3.css"> 
</head>
<body>
  <div class="container">
    <h1>113306031_Lab3_Number Guessing Game</h1>
    <div id="result" class="result"></div>  
  </div>

  <script>
    var targetNumber = Math.floor(Math.random() * 98) + 2;
    var min = 1; 
    var max = 100;
    var attemptsLeft = 7; 
    var correct = false;

    while (attemptsLeft > 0 && !correct) {
      var guess = window.prompt(`請輸入 ${min} ~ ${max}之間的數字 \n還剩下 ${attemptsLeft} 次機會`);
      
      if (guess === null || guess.trim() === "" || isNaN(guess)) {
        alert("請輸入有效的數字！");
        continue;
      }

      guess = parseInt(guess, 10);
      
      if (guess === min || guess === max) {
        alert("請輸入有效範圍內的數字!(不能選擇範圍的上下限)");
        continue;
      }

      if (guess < min || guess > max) {
        alert("請輸入有效範圍內的數字!(不能選擇範圍的上下限)");
        continue;
      }

      if (guess === targetNumber) {
        correct = true;
        document.getElementById("result").innerHTML = "<img src='correct.jpg' alt='Correct' />"; 
        alert("恭喜你答對了！");
      } 
      else {
        attemptsLeft--;
        if (attemptsLeft > 0) {
          if (guess < targetNumber) {
            alert(`數字太小了！請再試一次!\n剩餘次數: ${attemptsLeft}`);
            min = Math.max(min, guess + 1);
          } 
          else {
            alert(`數字太大了！請再試一次!\n剩餘次數: ${attemptsLeft}`);
            max = Math.min(max, guess - 1);
          }
        } 
        else {
          document.getElementById("result").innerHTML = "<img src='wrong.jpg' alt='Wrong' />";
          alert(`次數已用完，你輸了！正確答案是 ${targetNumber}。`);
        }
      }
    }
  </script>
</body>
</html>


